function urlCleanup(){if("undefined"!=typeof history.pushState){var e={Title:document.title,Url:window.parent.location.pathname};history.pushState(e,e.Title,e.Url)}else window.parent.location=window.parent.location.pathname}function insertGame(e){function t(){var e=gameContainer;e.innerHTML=a.responseText}var a=new XMLHttpRequest;a.open("GET","../games/"+e+".html",!0),a.onreadystatechange=function(e){4==a.readyState&&200==a.status&&(t(),afterAjaxLoaded())},a.send(null)}function afterAjaxLoaded(){!function(){var e=document.querySelector(".cheatGroupHolder"),t=e.querySelectorAll("a[data-cheatgroup]"),a=e.querySelector("a[data-cheatall]");for(i=0;i<t.length;i++)t[i].addEventListener("click",function(){var e=this.parentElement,t=e.parentElement,a=t.querySelectorAll(".cheatGroupSubHolder");for(j=0;j<a.length;j++)a[j].classList.add("hide"),a[j].classList.remove("expand");gameContainer.classList.add("cheats"),e.classList.remove("hide"),e.classList.add("expand")});a.addEventListener("click",function(){for(allSubHolders=e.querySelectorAll(".cheatGroupSubHolder"),gameContainer.classList.add("cheats"),j=0;j<allSubHolders.length;j++)allSubHolders[j].classList.remove("hide"),allSubHolders[j].classList.add("expand")})}()}var nav=document.querySelector("nav"),toggle=document.querySelector("#toggle"),back=document.querySelector("#back"),mainContainer=document.querySelector("#mainContainer"),gameContainer=document.querySelector("#gameContainer");!function(){toggle.addEventListener("click",function(){nav.classList.toggle("active")})}(),function(){if(window.location.href.indexOf("#")>-1){var e=window.location.href,t=e.split("#").pop(),a=t.toString();mainContainer.classList.add("hide"),gameContainer.classList.add("show"),insertGame(a)}}(),function(){back.addEventListener("click",function(){if(back.hasAttribute("href"));else if(window.location.href.indexOf("#")>-1)if(gameContainer.classList.contains("cheats")){var e=document.querySelectorAll(".cheatGroupSubHolder");for(i=0;i<e.length;i++)e[i].classList.remove("hide"),e[i].classList.remove("expand");gameContainer.classList.remove("cheats")}else mainContainer.classList.remove("hide"),gameContainer.classList.remove("show"),urlCleanup();else nav.classList.add("active")})}(),function(){var e=mainContainer.querySelector(".gameList"),t=e.querySelectorAll("a.game");for(i=0;i<t.length;i++)t[i].addEventListener("click",function(){var e=this.getAttribute("href").slice(1),t=e.toString();mainContainer.classList.add("hide"),gameContainer.classList.add("show"),insertGame(t)})}(),function(){var e="Theft Console";console.log(e)}();